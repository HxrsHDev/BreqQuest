<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brewery App</title>
    <link rel="stylesheet" href="/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <div class="heading">
        <div class="heading-text">
            <a href="https://www.fontspace.com/category/victorian">
                <img src="https://see.fontimg.com/api/renderfont4/ZY73/eyJyIjoiZnMiLCJoIjo4MSwidyI6MTI1MCwiZnMiOjY1LCJmZ2MiOiIjMDAwMDAwIiwiYmdjIjoiI0ZGRkZGRiIsInQiOjF9/YnJld1F1ZXN0/hemera-ii-demo-regular.png" alt="Victorian fonts">
            </a>
        </div>
    </div>

    <div class="background-container">
        <div class="formclass">
            <div class="form">
                <div class="form-header fs-2 text">Brewery Search</div>
                <div class="mb-3">
                    <label for="city" class="form-label">By-City</label>
                    <input type="text" class="form-control" id="city" placeholder="Enter City">
                </div>
                <div class="mb-3">
                    <label for="name" class="form-label">By-Name</label>
                    <input type="text" class="form-control" id="name" placeholder="Enter Name">
                </div>
                <div class="mb-3">
                    <label for="type" class="form-label">By-Type</label>
                    <input type="text" class="form-control" id="type" placeholder="Enter Type">
                </div>

                <button onclick="searchBreweries()" class="search btn btn-warning">Search</button>
            </div>
        </div>

        <div id="result-container" class="mt-4"></div>
    </div>
    <!-- index.html -->
<!-- ... Your existing HTML code ... -->

<div id="review-form-container" style="display: none;">
  <h3>Write a Review</h3>
  <form id="review-form">
    <label for="rating">Rating (1-5): </label>
    <input type="number" id="rating" name="rating" min="1" max="5" required>
    <br>
    <label for="description">Description: </label>
    <textarea id="description" name="description" rows="4" cols="50" required></textarea>
    <br>
    <button type="button" onclick="submitReview()">Submit Review</button>
  </form>
</div>

<!-- Your existing HTML code ... -->

<script>
  function toggleReviewForm() {
    const formContainer = document.getElementById('review-form-container');
    formContainer.style.display = formContainer.style.display === 'none' ? 'block' : 'none';
  }

  async function submitReview() {
    const rating = document.getElementById('rating').value;
    const description = document.getElementById('description').value;

    const response = await fetch('/reviews', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ rating, description }),
    });

    if (response.ok) {
      alert('Review submitted successfully!');
      // Optionally, you can update the UI to display the new review immediately
    } else {
      alert('Failed to submit review.');
    }
  }
</script>


    <script src="/Javascript/search.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
